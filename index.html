<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Carousel Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="carousel.css" rel="stylesheet">
    <style>
    .col-lg-4{ line-height:20px}
        background:url(dr/1111.jpg) no-repeat 5px 5px;
    </style> 
  </head>
  <body>

    

    <main role="main">

      


      <!-- Marketing messaging and featurettes
      ================================================== -->
      <!-- Wrap the rest of the page in another container to center all the content. -->

      <div class="container marketing">
          <h1><b>網路攝影機 : 簡易智慧監控+人臉偵測</b></h1><br /> 
          <b>使用設備 : </b><br />
          <b>1.Raspberry樹莓派</b><br />
          <b>2.羅技網路攝影機PCM-515</b><br />
          <br />
         <b>網路攝影機簡介 : </b><br />
          <b>專為Win XP/VISTA/7所設計</b><br />
        <b>採用高級五層玻璃鏡頭</b><br />
          <b>即插即用，不需安裝驅動程式</b><br />
          <b>內建高感度麥克風收音</b><br />
          <b>可調式高亮度 LED燈</b><br />
          <br />
          <b>應用 : </b><br />
          <b>1.醫療保健 : </b><br />
        <b>大多數現代網路攝錄影機能夠通過使用簡單的演算法技巧捕足動脈脈搏率 研究人員聲稱這種方法準確到±5bpm</b><br />
          <b>2.影片監控 : </b><br />
          <b>網路攝影機被安裝在託兒所、辦公室、商店、公路等地以監控安全和員工活動</b><br />
          <b>3.視訊會議 : </b><br />
          <b>用來在兩個或多個地點的多個用戶之間提供語音和運動彩色畫面的雙向實時傳送的視聽對談型會議業務。大型影片會議系統在軍事、政府、商貿、醫療等部門有廣泛的應用</b><br />
          <b>4.影片通話 : </b><br />
          <b>網路攝影機可以進行即時通訊 , 網路電話 等服務，全球已有數以百萬的用戶進行過一對一的即時影片通訊。這種新的通訊形式有許多新功能,如自動照明控制、實時濾鏡（潤色）、自動對焦等功能,提供了用戶更多的易用性,這進一步加速了網路攝影機的普及</b><br />
          <b>5.遊戲控制裝置 :</b><br />
          <b>特殊軟體可以使用網路網路攝影機的影片流來協助或增強用戶對應用和遊戲的控制。可以觀察和跟蹤影片功能，包括臉部，形狀，模型和顏色，以產生相應的控制形式。例如，可以跟蹤單個光源的位置並用於類比滑鼠指標，頭戴式燈將實現免提計算，並將大大提高電腦可存取性。這可以應用於遊戲，提供額外的控制，改進的互動性和沉浸感。 </b><br />
        <!-- Three columns of text below the carousel -->
        <div >
          <br />
            <br />
            <br />
            <br />
          <div>
            <img  src="dr/1111.jpg" alt="Generic placeholder image" width="300" height="300">
              <h2><font face="font-family"><b>步驟1>攝影機連接樹莓派</b></font></h2>
            <b>攝影機連接樹莓派，在樹莓派輸入指令"sudo apt-get install fswebcam,安裝fswebcam工具，以便往後的執行<br /> 
                </b>
          </div><!-- /.col-lg-4 -->
          
        </div><!-- /.row -->

        <div >   
            <div>
              <img  src="dr/2222.png" alt="Generic placeholder image" width="400" height="300">
                <h2><font face="font-family"><b>步驟2>下載分類器</b></font></h2>
              <b>樹莓派下新建一個資料夾取名為img,下載haarcascade_eye.xml及haarcascade_frontalface_default.xml,放進img資料夾內<br /> 
                     </b>
            </div><!-- /.col-lg-4 -->     
        </div><!-- /.col-lg-4 -->
          <div >   
            <div>
              <img  src="dr/3333.png" alt="Generic placeholder image" width="400" height="300">
                <h2><font face="font-family"><b>步驟3>撰寫程式碼</b></font></h2>
                <b>寫完程式後放在img目錄下並執行，即可看到結果，只有人臉辨識到的圖片，會儲存在img目錄下，程式碼如下:     </b><br />
                <br />
             <br />
              <b>import numpy as np     </b><br /> 
              <b>import cv2     </b><br /> 
              <b>import time      </b><br />
                <br />
                <b>face_cascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')</b><br /> 
                <b>eye_cascade = cv2.CascadeClassifier('haarcascade_eye.xml')</b><br /> 
                <b>cap = cv2.VideoCapture(0)</b><br /> 
                <br />
                
                <b>while 1:</b><br /> 
                <div style="text-indent:2em;"><b>ret, img = cap.read()</b><br /></div>
                <div style="text-indent:2em;"><b>gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</b><br /> </div>
                <div style="text-indent:2em;"><b>faces = face_cascade.detectMultiScale(gray, 1.3, 5)</b><br /> </div>
                <br/>
                
                <div style="text-indent:2em;"><b>for (x,y,w,h) in faces:</b><br /> </div>
                <div style="text-indent:4em;"><b>cv2.rectangle(img,(x,y),(x+w,y+h),(255,0,0),2)</b><br /> </div>
                <div style="text-indent:4em;"><b>roi_gray = gray[y:y+h, x:x+w]</b><br /> </div>
                <div style="text-indent:4em;"><b>roi_color = img[y:y+h, x:x+w]</b><br /> </div>
                <div style="text-indent:4em;"><b>cv2.imwrite(str(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time()))) + '.jpg', img)</b><br /> </div>
                <div style="text-indent:4em;"><b>eyes = eye_cascade.detectMultiScale(roi_gray)</b><br /> </div> 
                <br/>
                <div style="text-indent:4em;"><b>for (ex,ey,ew,eh) in eyes:</b><br /> </div> 
                <div style="text-indent:6em;"><b>cv2.rectangle(roi_color,(ex,ey),(ex+ew,ey+eh),(0,255,0),2)</b><br /> </div> 
                <div style="text-indent:6em;"><b>cv2.imwrite(str(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time()))) + '.jpg', img)</b><br /> </div>
                <div style="text-indent:2em;"><b>cv2.imshow('img',img)</b><br /> </div> 
                <br/>
                <br/>
                <div style="text-indent:2em;"><b>k = cv2.waitKey(30) & 0xff</b><br /> </div> 
                <div style="text-indent:2em;"><b>if k == 27:</b><br /> </div> 
                <div style="text-indent:4em;"><b>break</b><br /> </div> 
                 <br/>
                 <br/>
                <div style="text-indent:0em;"><b>cap.release()</b><br /> </div> 
                <div style="text-indent:0em;"><b>cv2.destroyAllWindows()</b><br /> </div> 
                
                
                
                
            </div><!-- /.col-lg-4 -->     
        </div><!-- /.col-lg-4 -->
          

        <hr class="featurette-divider">

        <div class="row featurette">
          <div class="col-md-7">
            <h2 class="featurette-heading"><b>測試成果</b></h2>
            <p class="lead"><b>將網路攝影機對著要監視的地方，最常用於自家門口的監控，例如:把它固定在家門前的上方，鏡頭朝下，讓鏡頭的範圍只有在家門前的那一小區塊，除了有人要來拜訪之外，基本上大部分的時間畫面都是相對靜止的，只有在畫面中偵測到的物體有很大的變動時，攝影機就會自動把有變動較大的畫面存成圖檔保存到指定的路徑，顯示年月份還有幾時幾分幾秒，這樣打開檔案就可以知道甚麼時候有人來過</b></p>
          </div>
          <div class="col-md-5">
            <video width="560" height="470" src="dr/webcam12.mp4" controls></video>
          </div>
        </div>

        <hr class="featurette-divider">

        

        

        <hr class="featurette-divider">

        <!-- /END THE FEATURETTES -->

      </div><!-- /.container -->


      <!-- FOOTER -->
      <footer class="container">
        <p class="float-right"><a href="#">Back to top</a></p>
        <p>&copy; 2017-2018 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
      </footer>
    </main>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="assets/js/vendor/holder.min.js"></script>
  </body>
</html>
